{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"<ts-not-set>"},"stack_trace":"Error: ENOENT: no such file or directory, open '/linkedin-secret/linkedin'\n    at Object.openSync (node:fs:596:3)\n    at Object.readFileSync (node:fs:464:35)\n    at loadAndCompleteConfig (/app/node_modules/@gitpod/server/src/config.ts:352:24)\n    at Object.fromFile (/app/node_modules/@gitpod/server/src/config.ts:306:20)\n    at Binding.dynamicValue (/app/node_modules/@gitpod/server/src/container-module.ts:146:49)\n    at /app/node_modules/inversify/src/resolution/resolver.ts:51:86\n    at tryAndThrowErrorIfStackOverflow (/app/node_modules/inversify/src/utils/exceptions.ts:12:12)\n    at _resolveFactoryFromBinding (/app/node_modules/inversify/src/resolution/resolver.ts:50:41)\n    at _getResolvedFromBinding (/app/node_modules/inversify/src/resolution/resolver.ts:85:16)\n    at /app/node_modules/inversify/src/resolution/resolver.ts:111:18\n    at _resolveInScope (/app/node_modules/inversify/src/resolution/resolver.ts:100:12)\n    at _resolveBinding (/app/node_modules/inversify/src/resolution/resolver.ts:110:10)\n    at /app/node_modules/inversify/src/resolution/resolver.ts:41:14\n    at childRequests.reduce.constructorInjections (/app/node_modules/inversify/src/resolution/instantiation.ts:27:23)\n    at Array.reduce (<anonymous>)\n    at _resolveRequests (/app/node_modules/inversify/src/resolution/instantiation.ts:26:24)","component":"server","severity":"ERROR","time":"2025-05-06T11:26:23.238Z","message":"Could not load LinkedIn secrets","error":"Error: ENOENT: no such file or directory, open '/linkedin-secret/linkedin'\n    at Object.openSync (node:fs:596:3)\n    at Object.readFileSync (node:fs:464:35)\n    at loadAndCompleteConfig (/app/node_modules/@gitpod/server/src/config.ts:352:24)\n    at Object.fromFile (/app/node_modules/@gitpod/server/src/config.ts:306:20)\n    at Binding.dynamicValue (/app/node_modules/@gitpod/server/src/container-module.ts:146:49)\n    at /app/node_modules/inversify/src/resolution/resolver.ts:51:86\n    at tryAndThrowErrorIfStackOverflow (/app/node_modules/inversify/src/utils/exceptions.ts:12:12)\n    at _resolveFactoryFromBinding (/app/node_modules/inversify/src/resolution/resolver.ts:50:41)\n    at _getResolvedFromBinding (/app/node_modules/inversify/src/resolution/resolver.ts:85:16)\n    at /app/node_modules/inversify/src/resolution/resolver.ts:111:18\n    at _resolveInScope (/app/node_modules/inversify/src/resolution/resolver.ts:100:12)\n    at _resolveBinding (/app/node_modules/inversify/src/resolution/resolver.ts:110:10)\n    at /app/node_modules/inversify/src/resolution/resolver.ts:41:14\n    at childRequests.reduce.constructorInjections (/app/node_modules/inversify/src/resolution/instantiation.ts:27:23)\n    at Array.reduce (<anonymous>)\n    at _resolveRequests (/app/node_modules/inversify/src/resolution/instantiation.ts:26:24)"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.241Z","message":"Loading TypeORM entities and migrations from /app/node_modules/@gitpod/gitpod-db/lib/typeorm","loggedViaConsole":true}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.242Z","message":"Using DB: db:3306/gitpod"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.367Z","message":"[spicedb] Successfully wrote relationships.","payload":{"response":{"writtenAt":{"token":"GgQKAjMy"}},"updates":[{"operation":2,"relationship":{"relation":"admin","resource":{"objectType":"installation","objectId":"1"},"subject":{"optionalRelation":"","object":{"objectType":"user","objectId":"f071bb8e-b5d1-46cf-a436-da03ae63bcd2"}}}}]}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.476Z","message":"server initializing..."}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.476Z","message":"connected to DB"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.492Z","message":"[spicedb] Successfully wrote relationships.","payload":{"response":{"writtenAt":{"token":"GgQKAjMz"}},"updates":[{"operation":2,"relationship":{"relation":"self","resource":{"objectType":"user","objectId":"f071bb8e-b5d1-46cf-a436-da03ae63bcd2"},"subject":{"optionalRelation":"","object":{"objectType":"user","objectId":"f071bb8e-b5d1-46cf-a436-da03ae63bcd2"}}}},{"operation":2,"relationship":{"relation":"installation","resource":{"objectType":"user","objectId":"f071bb8e-b5d1-46cf-a436-da03ae63bcd2"},"subject":{"optionalRelation":"","object":{"objectType":"installation","objectId":"1"}}}},{"operation":2,"relationship":{"relation":"member","resource":{"objectType":"installation","objectId":"1"},"subject":{"optionalRelation":"","object":{"objectType":"user","objectId":"f071bb8e-b5d1-46cf-a436-da03ae63bcd2"}}}}]}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.497Z","message":"GitHub app disabled"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.497Z","message":"Registered GitLab app at /apps/gitlab/"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.497Z","message":"Registered Bitbucket app at /apps/bitbucket/"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.497Z","message":"Registered GitHub EnterpriseApp app at /apps/ghe/"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.497Z","message":"Registered Bitbucket Server app at /apps/bitbucketserver/"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.502Z","message":"Registered job database-gc in job runner.","payload":{"jobName":"database-gc","frequencyMs":30000}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.504Z","message":"Registered job ots-gc in job runner.","payload":{"jobName":"ots-gc","frequencyMs":300000}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.504Z","message":"Registered job token-gc in job runner.","payload":{"jobName":"token-gc","frequencyMs":300000}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.504Z","message":"Registered job webhook-gc in job runner.","payload":{"jobName":"webhook-gc","frequencyMs":240000}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.505Z","message":"Registered job workspace-gc in job runner.","payload":{"jobName":"workspace-gc","frequencyMs":1800000}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.505Z","message":"Registered job snapshots in job runner.","payload":{"jobName":"snapshots","frequencyMs":300000}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.505Z","message":"Registered job relationship-update-job in job runner.","payload":{"jobName":"relationship-update-job","frequencyMs":180000}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.506Z","message":"Registered job workspace-start-controller in job runner.","payload":{"jobName":"workspace-start-controller","frequencyMs":10000}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.506Z","message":"Registered job installation-admin-cleanup in job runner.","payload":{"jobName":"installation-admin-cleanup","frequencyMs":300000}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.506Z","message":"server initialized."}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.514Z","message":"server listening on port: 3000"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.514Z","message":"IAM session server listening on port: 9876"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.514Z","message":"public api: listening on port: 3001"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.514Z","message":"Connect Private API server listening on port: 9877"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.514Z","message":"monitoring app listening on port: 9500"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.514Z","message":"probes server listening on port: 9400"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.517Z","context":{"requestId":"50d72894-b024-4b15-ac25-5bdd0829e6fa","requestKind":"job","requestMethod":"workspace-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":0.19732999987900257},"message":"workspace-gc: job started","payload":{"workspaceMinAgeDays":14,"prebuildMinAgeDays":7}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.518Z","context":{"requestId":"cd84f534-f5af-4b01-87c7-eaa6ed46819c","requestKind":"job","requestMethod":"snapshots","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":0.1525100003927946},"message":"snapshots: we're leading the quorum. picking up pending snapshots and driving them home."}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.523Z","message":"debug server listening on port: 6060"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.529Z","context":{"requestId":"50d72894-b024-4b15-ac25-5bdd0829e6fa","requestKind":"job","requestMethod":"workspace-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":12.232851000502706},"message":"workspace-gc: about to soft-delete 0 eligible workspaces"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.529Z","context":{"requestId":"50d72894-b024-4b15-ac25-5bdd0829e6fa","requestKind":"job","requestMethod":"workspace-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":12.374661000445485},"message":"workspace-gc: successfully soft-deleted 0 eligible workspaces","payload":{"selectionTimeMs":11,"deletionTimeMs":0}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.531Z","context":{"requestId":"50d72894-b024-4b15-ac25-5bdd0829e6fa","requestKind":"job","requestMethod":"workspace-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":14.132930999621749},"message":"workspace-gc: about to delete the content of 0 workspaces"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.531Z","context":{"requestId":"50d72894-b024-4b15-ac25-5bdd0829e6fa","requestKind":"job","requestMethod":"workspace-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":14.210511000826955},"message":"workspace-gc: successfully deleted the content of 0 workspaces","payload":{"selectionTimeMs":1,"deletionTimeMs":0}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.533Z","context":{"requestId":"50d72894-b024-4b15-ac25-5bdd0829e6fa","requestKind":"job","requestMethod":"workspace-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":15.450031001120806},"message":"workspace-gc: about to delete 0 eligible prebuilds"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.533Z","context":{"requestId":"50d72894-b024-4b15-ac25-5bdd0829e6fa","requestKind":"job","requestMethod":"workspace-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":15.526190999895334},"message":"workspace-gc: successfully deleted 0 eligible prebuilds","payload":{"selectionTimeMs":2,"deletionTimeMs":0}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.535Z","context":{"requestId":"50d72894-b024-4b15-ac25-5bdd0829e6fa","requestKind":"job","requestMethod":"workspace-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":17.435441000387073},"message":"workspace-gc: about to purge 0 workspaces"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:23.535Z","context":{"requestId":"50d72894-b024-4b15-ac25-5bdd0829e6fa","requestKind":"job","requestMethod":"workspace-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":17.528390999883413},"message":"workspace-gc: successfully purged 0 workspaces","payload":{"selectionTimeMs":1,"deletionTimeMs":1}}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"stack_trace":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)","component":"server","severity":"WARNING","time":"2025-05-06T11:26:41.390Z","message":"Failed to authenticate user with JWT Session","error":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:53.504Z","context":{"requestId":"495c857d-ce86-42ff-9170-1c964dfac2fb","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":0.5149399992078543},"message":"[PeriodicDbDeleter] Starting to collect deleted rows.","payload":{"periodicDeleterTickId":"2025-05-06T11:26:53.504Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:26:53.522Z","context":{"requestId":"495c857d-ce86-42ff-9170-1c964dfac2fb","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":18.794521000236273},"message":"[PeriodicDbDeleter] Finished deleting records.","payload":{"periodicDeleterTickId":"2025-05-06T11:26:53.504Z"}}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"stack_trace":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)","component":"server","severity":"WARNING","time":"2025-05-06T11:26:56.747Z","message":"Failed to authenticate user with JWT Session","error":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)"}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"stack_trace":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)","component":"server","severity":"WARNING","time":"2025-05-06T11:27:06.746Z","message":"Failed to authenticate user with JWT Session","error":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)"}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"stack_trace":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)","component":"server","severity":"WARNING","time":"2025-05-06T11:27:17.968Z","message":"Failed to authenticate user with JWT Session","error":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:27:17.969Z","context":{"requestId":"c115ea7e-6971-41bb-aa84-a6d5be7dab2c","requestKind":"http","requestMethod":"/logout","contextTimeMs":0.8526900000870228},"message":"(Logout) Logging out.","payload":{"clientInfo":"[redacted:nested:object}]"}}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"component":"server","severity":"ERROR","time":"2025-05-06T11:27:17.981Z","context":{"requestId":"c115ea7e-6971-41bb-aa84-a6d5be7dab2c","requestKind":"http","requestMethod":"/logout","contextTimeMs":12.883080000057817},"message":"(node:1) UnhandledPromiseRejectionWarning: TypeError: Cannot read properties of undefined (reading 'id')\n    at /app/node_modules/@gitpod/server/src/user/user-controller.ts:261:62\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/app/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at /app/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:341:12)\n    at next (/app/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/app/node_modules/express/lib/router/index.js:174:3)\n    at router (/app/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/app/node_modules/express/lib/router/index.js:323:13)\n    at /app/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:341:12)\n    at next (/app/node_modules/express/lib/router/index.js:275:10)\n    at /app/node_modules/@gitpod/server/src/server.ts:165:23\n(Use `node --trace-warnings ...` to show where the warning was created)","loggedViaConsole":true}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"component":"server","severity":"ERROR","time":"2025-05-06T11:27:17.981Z","context":{"requestId":"c115ea7e-6971-41bb-aa84-a6d5be7dab2c","requestKind":"http","requestMethod":"/logout","contextTimeMs":13.047090999782085},"message":"(node:1) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","loggedViaConsole":true}
{"component":"server","severity":"INFO","time":"2025-05-06T11:27:53.506Z","context":{"requestId":"043d3643-8aa3-42cd-bd03-1126b2e91995","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":0.0768400002270937},"message":"[PeriodicDbDeleter] Starting to collect deleted rows.","payload":{"periodicDeleterTickId":"2025-05-06T11:27:53.506Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:27:53.522Z","context":{"requestId":"043d3643-8aa3-42cd-bd03-1126b2e91995","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":16.29216100089252},"message":"[PeriodicDbDeleter] Finished deleting records.","payload":{"periodicDeleterTickId":"2025-05-06T11:27:53.506Z"}}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"stack_trace":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)","component":"server","severity":"WARNING","time":"2025-05-06T11:28:04.445Z","message":"Failed to authenticate user with JWT Session","error":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:28:04.445Z","context":{"requestId":"1a4ccb28-c11c-43e3-81be-6898ec639bf0","requestKind":"http","requestMethod":"/logout","contextTimeMs":0.13193000108003616},"message":"(Logout) Logging out.","payload":{"clientInfo":"[redacted:nested:object}]"}}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"component":"server","severity":"ERROR","time":"2025-05-06T11:28:04.446Z","context":{"requestId":"1a4ccb28-c11c-43e3-81be-6898ec639bf0","requestKind":"http","requestMethod":"/logout","contextTimeMs":0.8883000016212463},"message":"(node:1) UnhandledPromiseRejectionWarning: TypeError: Cannot read properties of undefined (reading 'id')\n    at /app/node_modules/@gitpod/server/src/user/user-controller.ts:261:62\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/app/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at /app/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:341:12)\n    at next (/app/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/app/node_modules/express/lib/router/index.js:174:3)\n    at router (/app/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/app/node_modules/express/lib/router/index.js:323:13)\n    at /app/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:341:12)\n    at next (/app/node_modules/express/lib/router/index.js:275:10)\n    at /app/node_modules/@gitpod/server/src/server.ts:165:23","loggedViaConsole":true}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"component":"server","severity":"ERROR","time":"2025-05-06T11:28:04.446Z","context":{"requestId":"1a4ccb28-c11c-43e3-81be-6898ec639bf0","requestKind":"http","requestMethod":"/logout","contextTimeMs":1.0234099999070168},"message":"(node:1) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 2)","loggedViaConsole":true}
{"component":"server","severity":"INFO","time":"2025-05-06T11:28:53.508Z","context":{"requestId":"8ca844cd-842d-47fc-a5ca-d889291f2a6b","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":0.08586000092327595},"message":"[PeriodicDbDeleter] Starting to collect deleted rows.","payload":{"periodicDeleterTickId":"2025-05-06T11:28:53.508Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:28:53.522Z","context":{"requestId":"8ca844cd-842d-47fc-a5ca-d889291f2a6b","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":14.241541000083089},"message":"[PeriodicDbDeleter] Finished deleting records.","payload":{"periodicDeleterTickId":"2025-05-06T11:28:53.508Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:29:23.510Z","context":{"requestId":"7ea0886b-a48e-4cde-b116-4bef77158129","requestKind":"job","requestMethod":"relationship-update-job","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":3.4256509989500046},"message":"relationship-update-job: updated 0 users in 0ms"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:29:53.510Z","context":{"requestId":"6ffdfe08-0363-45a6-a3ef-88df0058514c","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":0.09439999982714653},"message":"[PeriodicDbDeleter] Starting to collect deleted rows.","payload":{"periodicDeleterTickId":"2025-05-06T11:29:53.509Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:29:53.523Z","context":{"requestId":"6ffdfe08-0363-45a6-a3ef-88df0058514c","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":13.215159999206662},"message":"[PeriodicDbDeleter] Finished deleting records.","payload":{"periodicDeleterTickId":"2025-05-06T11:29:53.509Z"}}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"stack_trace":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)","component":"server","severity":"WARNING","time":"2025-05-06T11:29:58.523Z","message":"Failed to authenticate user with JWT Session","error":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:29:58.523Z","context":{"requestId":"3da5ab22-8250-4866-b67b-aeee405c85ce","requestKind":"http","requestMethod":"/logout","contextTimeMs":0.1374399997293949},"message":"(Logout) Logging out.","payload":{"clientInfo":"[redacted:nested:object}]"}}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"component":"server","severity":"ERROR","time":"2025-05-06T11:29:58.525Z","context":{"requestId":"3da5ab22-8250-4866-b67b-aeee405c85ce","requestKind":"http","requestMethod":"/logout","contextTimeMs":0.8094709999859333},"message":"(node:1) UnhandledPromiseRejectionWarning: TypeError: Cannot read properties of undefined (reading 'id')\n    at /app/node_modules/@gitpod/server/src/user/user-controller.ts:261:62\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/app/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at /app/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:341:12)\n    at next (/app/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/app/node_modules/express/lib/router/index.js:174:3)\n    at router (/app/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/app/node_modules/express/lib/router/index.js:323:13)\n    at /app/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:341:12)\n    at next (/app/node_modules/express/lib/router/index.js:275:10)\n    at /app/node_modules/@gitpod/server/src/server.ts:165:23","loggedViaConsole":true}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"component":"server","severity":"ERROR","time":"2025-05-06T11:29:58.525Z","context":{"requestId":"3da5ab22-8250-4866-b67b-aeee405c85ce","requestKind":"http","requestMethod":"/logout","contextTimeMs":1.8392110001295805},"message":"(node:1) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 3)","loggedViaConsole":true}
{"component":"server","severity":"INFO","time":"2025-05-06T11:30:53.512Z","context":{"requestId":"5df19235-e4c5-4a89-9b00-3af7b4e3294c","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":0.06588000059127808},"message":"[PeriodicDbDeleter] Starting to collect deleted rows.","payload":{"periodicDeleterTickId":"2025-05-06T11:30:53.512Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:30:53.527Z","context":{"requestId":"5df19235-e4c5-4a89-9b00-3af7b4e3294c","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":15.553590999916196},"message":"[PeriodicDbDeleter] Finished deleting records.","payload":{"periodicDeleterTickId":"2025-05-06T11:30:53.512Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:31:23.853Z","context":{"requestId":"0dd8b2bb-a29a-451a-af89-ad5c61a2dc0e","requestKind":"job","requestMethod":"snapshots","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":0.06698000058531761},"message":"snapshots: we're leading the quorum. picking up pending snapshots and driving them home."}
{"component":"server","severity":"INFO","time":"2025-05-06T11:31:53.513Z","context":{"requestId":"ec7238d8-7b6c-43b2-b23e-e123c60bc640","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":0.07146899960935116},"message":"[PeriodicDbDeleter] Starting to collect deleted rows.","payload":{"periodicDeleterTickId":"2025-05-06T11:31:53.513Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:31:53.525Z","context":{"requestId":"ec7238d8-7b6c-43b2-b23e-e123c60bc640","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":12.303829999640584},"message":"[PeriodicDbDeleter] Finished deleting records.","payload":{"periodicDeleterTickId":"2025-05-06T11:31:53.513Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:32:53.513Z","context":{"requestId":"ab647044-633c-411a-81a4-4f49d07eb359","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":0.06857999972999096},"message":"[PeriodicDbDeleter] Starting to collect deleted rows.","payload":{"periodicDeleterTickId":"2025-05-06T11:32:53.513Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:32:53.526Z","context":{"requestId":"ab647044-633c-411a-81a4-4f49d07eb359","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":12.69154099933803},"message":"[PeriodicDbDeleter] Finished deleting records.","payload":{"periodicDeleterTickId":"2025-05-06T11:32:53.513Z"}}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"stack_trace":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)","component":"server","severity":"WARNING","time":"2025-05-06T11:33:40.288Z","message":"Failed to authenticate user with JWT Session","error":"Error: user deleted\n    at UserService.findUserById (/app/node_modules/@gitpod/server/src/user/user-service.ts:92:19)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at SessionHandler.verify (/app/node_modules/@gitpod/server/src/session-handler.ts:133:20)\n    at SessionHandler.handler (/app/node_modules/@gitpod/server/src/session-handler.ts:110:22)"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:33:40.288Z","context":{"requestId":"417ed9f7-2c85-4356-867b-1cc191b7792e","requestKind":"http","requestMethod":"/logout","contextTimeMs":0.12338999845087528},"message":"(Logout) Logging out.","payload":{"clientInfo":"[redacted:nested:object}]"}}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"component":"server","severity":"ERROR","time":"2025-05-06T11:33:40.289Z","context":{"requestId":"417ed9f7-2c85-4356-867b-1cc191b7792e","requestKind":"http","requestMethod":"/logout","contextTimeMs":0.8106199987232685},"message":"(node:1) UnhandledPromiseRejectionWarning: TypeError: Cannot read properties of undefined (reading 'id')\n    at /app/node_modules/@gitpod/server/src/user/user-controller.ts:261:62\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/app/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at /app/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:341:12)\n    at next (/app/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/app/node_modules/express/lib/router/index.js:174:3)\n    at router (/app/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/app/node_modules/express/lib/router/index.js:323:13)\n    at /app/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:341:12)\n    at next (/app/node_modules/express/lib/router/index.js:275:10)\n    at /app/node_modules/@gitpod/server/src/server.ts:165:23","loggedViaConsole":true}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"component":"server","severity":"ERROR","time":"2025-05-06T11:33:40.289Z","context":{"requestId":"417ed9f7-2c85-4356-867b-1cc191b7792e","requestKind":"http","requestMethod":"/logout","contextTimeMs":0.9200899992138147},"message":"(node:1) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 4)","loggedViaConsole":true}
{"component":"server","severity":"INFO","time":"2025-05-06T11:33:53.515Z","context":{"requestId":"5544cbeb-f842-4f02-9cad-bc3b532f60f2","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":0.0728399995714426},"message":"[PeriodicDbDeleter] Starting to collect deleted rows.","payload":{"periodicDeleterTickId":"2025-05-06T11:33:53.515Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:33:53.529Z","context":{"requestId":"5544cbeb-f842-4f02-9cad-bc3b532f60f2","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":13.716010000556707},"message":"[PeriodicDbDeleter] Finished deleting records.","payload":{"periodicDeleterTickId":"2025-05-06T11:33:53.515Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:34:53.516Z","context":{"requestId":"458397e3-9053-49bb-b2bc-ada73822b751","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":0.07657000049948692},"message":"[PeriodicDbDeleter] Starting to collect deleted rows.","payload":{"periodicDeleterTickId":"2025-05-06T11:34:53.516Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:34:53.529Z","context":{"requestId":"458397e3-9053-49bb-b2bc-ada73822b751","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":13.190280001610518},"message":"[PeriodicDbDeleter] Finished deleting records.","payload":{"periodicDeleterTickId":"2025-05-06T11:34:53.516Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:35:23.511Z","context":{"requestId":"c5def710-64e6-4122-9980-24745f322636","requestKind":"job","requestMethod":"relationship-update-job","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":2.578599998727441},"message":"relationship-update-job: updated 0 users in 0ms"}
{"component":"server","severity":"INFO","time":"2025-05-06T11:35:33.181Z","context":{"requestId":"3a0f2cb1-6d5d-4d9e-b8ac-5f46b2605eba","requestKind":"http","requestMethod":"/logout","contextTimeMs":0.12960899993777275},"message":"(Logout) Logging out.","payload":{"clientInfo":"[redacted:nested:object}]"}}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"component":"server","severity":"ERROR","time":"2025-05-06T11:35:33.181Z","context":{"requestId":"3a0f2cb1-6d5d-4d9e-b8ac-5f46b2605eba","requestKind":"http","requestMethod":"/logout","contextTimeMs":0.9995000008493662},"message":"(node:1) UnhandledPromiseRejectionWarning: TypeError: Cannot read properties of undefined (reading 'id')\n    at /app/node_modules/@gitpod/server/src/user/user-controller.ts:261:62\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at next (/app/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/app/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at /app/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:341:12)\n    at next (/app/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/app/node_modules/express/lib/router/index.js:174:3)\n    at router (/app/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/app/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/app/node_modules/express/lib/router/index.js:323:13)\n    at /app/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/app/node_modules/express/lib/router/index.js:341:12)\n    at next (/app/node_modules/express/lib/router/index.js:275:10)\n    at /app/node_modules/@gitpod/server/src/server.ts:165:23","loggedViaConsole":true}
{"@type":"type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.ReportedErrorEvent","serviceContext":{"service":"server","version":"gpl-1327-da6c69227f2-dev-2025-05-06_T07-44-55"},"component":"server","severity":"ERROR","time":"2025-05-06T11:35:33.182Z","context":{"requestId":"3a0f2cb1-6d5d-4d9e-b8ac-5f46b2605eba","requestKind":"http","requestMethod":"/logout","contextTimeMs":1.1635090000927448},"message":"(node:1) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 5)","loggedViaConsole":true}
{"component":"server","severity":"INFO","time":"2025-05-06T11:35:53.517Z","context":{"requestId":"7c4a93a0-c67c-4b3f-8540-2b11dd76c79d","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":0.10084000043570995},"message":"[PeriodicDbDeleter] Starting to collect deleted rows.","payload":{"periodicDeleterTickId":"2025-05-06T11:35:53.517Z"}}
{"component":"server","severity":"INFO","time":"2025-05-06T11:35:53.531Z","context":{"requestId":"7c4a93a0-c67c-4b3f-8540-2b11dd76c79d","requestKind":"job","requestMethod":"database-gc","subjectId":"user_SYSTEM_USER","userId":"SYSTEM_USER","contextTimeMs":13.338020998984575},"message":"[PeriodicDbDeleter] Finished deleting records.","payload":{"periodicDeleterTickId":"2025-05-06T11:35:53.517Z"}}
